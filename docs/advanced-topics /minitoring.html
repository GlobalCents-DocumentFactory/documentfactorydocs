<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-advanced-topics /minitoring" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Monitoring with Prometheus | Document Factory</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://globalcents-documentfactory.github.io/documentfactorydocs/img/social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://globalcents-documentfactory.github.io/documentfactorydocs/img/social-card.jpg"><meta data-rh="true" property="og:url" content="https://globalcents-documentfactory.github.io/documentfactorydocs/docs/advanced-topics /minitoring"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Monitoring with Prometheus | Document Factory"><meta data-rh="true" name="description" content="DocumentFactory exposes metrics in a format compatible with Prometheus, enabling integration with modern monitoring"><meta data-rh="true" property="og:description" content="DocumentFactory exposes metrics in a format compatible with Prometheus, enabling integration with modern monitoring"><link data-rh="true" rel="icon" href="/documentfactorydocs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://globalcents-documentfactory.github.io/documentfactorydocs/docs/advanced-topics /minitoring"><link data-rh="true" rel="alternate" href="https://globalcents-documentfactory.github.io/documentfactorydocs/docs/advanced-topics /minitoring" hreflang="en"><link data-rh="true" rel="alternate" href="https://globalcents-documentfactory.github.io/documentfactorydocs/docs/advanced-topics /minitoring" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/documentfactorydocs/blog/rss.xml" title="Document Factory RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/documentfactorydocs/blog/atom.xml" title="Document Factory Atom Feed"><link rel="stylesheet" href="/documentfactorydocs/assets/css/styles.f84397d2.css">
<script src="/documentfactorydocs/assets/js/runtime~main.a1f4f7d8.js" defer="defer"></script>
<script src="/documentfactorydocs/assets/js/main.9ed6512b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/documentfactorydocs/"><div class="navbar__logo"><img src="/documentfactorydocs/img/logo.svg" alt="DocumentFactory" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/documentfactorydocs/img/logo.svg" alt="DocumentFactory" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">DocumentFactory</b></a><a class="navbar__item navbar__link" href="/documentfactorydocs/docs/introduction">Tutorial</a><a class="navbar__item navbar__link" href="/documentfactorydocs/blog">Blog</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/documentfactorydocs/docs/advanced-topics /minitoring">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/documentfactorydocs/docs/advanced-topics /minitoring">Next</a></li><li><a class="dropdown__link" href="/documentfactorydocs/docs/24.0.0/getting-started/overview">24.0.0</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/documentfactorydocs/docs/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/documentfactorydocs/docs/category/getting-started">Getting Started</a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/documentfactorydocs/docs/category/configuration">Configuration</a><button aria-label="Expand sidebar category &#x27;Configuration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/documentfactorydocs/docs/category/pipeline-actions">Pipeline Actions</a><button aria-label="Expand sidebar category &#x27;Pipeline Actions&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/documentfactorydocs/docs/category/client-tools">Client Tools</a><button aria-label="Expand sidebar category &#x27;Client Tools&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/documentfactorydocs/docs/category/external-components">External Components</a><button aria-label="Expand sidebar category &#x27;External Components&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/documentfactorydocs/docs/category/advanced-topics">Advanced Topics</a><button aria-label="Collapse sidebar category &#x27;Advanced Topics&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/documentfactorydocs/docs/advanced-topics /errorhandling_and_logging">Error Handling &amp; Logging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/documentfactorydocs/docs/advanced-topics /minitoring">Monitoring with Prometheus</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/documentfactorydocs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/documentfactorydocs/docs/category/advanced-topics"><span itemprop="name">Advanced Topics</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Monitoring with Prometheus</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Monitoring with Prometheus</h1></header>
<p>DocumentFactory exposes metrics in a format compatible with <a href="https://prometheus.io/" target="_blank" rel="noopener noreferrer"><strong>Prometheus</strong></a>, enabling integration with modern monitoring
and alerting systems.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-prometheus">What is Prometheus?<a href="#what-is-prometheus" class="hash-link" aria-label="Direct link to What is Prometheus?" title="Direct link to What is Prometheus?">​</a></h2>
<p>Prometheus is an open-source monitoring and alerting toolkit designed for reliability and scalability. It collects metrics
from configured targets at given intervals, stores them efficiently, and allows powerful queries using the PromQL language.
Prometheus is widely used for observing application performance, resource usage, and system behavior in real time.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-prometheus-to-monitor-documentfactory">Setting Up Prometheus to Monitor DocumentFactory<a href="#setting-up-prometheus-to-monitor-documentfactory" class="hash-link" aria-label="Direct link to Setting Up Prometheus to Monitor DocumentFactory" title="Direct link to Setting Up Prometheus to Monitor DocumentFactory">​</a></h2>
<p>To collect and view DocumentFactory metrics, install Prometheus and configure it to scrape the metrics endpoint exposed
by the application.</p>
<p><strong>Basic steps:</strong></p>
<ul>
<li><strong>Install Prometheus</strong> on your infrastructure. (Instructions and downloads are available in the official
<a href="https://prometheus.io/docs/introduction/overview/" target="_blank" rel="noopener noreferrer"><strong>Prometheus documentation</strong></a>.)</li>
<li><strong>Add a scrape job</strong> for DocumentFactory in your <code>prometheus.yml</code> configuration file, pointing to the /metrics endpoint (on port 5123).</li>
<li><strong>Restart Prometheus</strong> to apply the new configuration.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="documentfactory-metrics">DocumentFactory Metrics<a href="#documentfactory-metrics" class="hash-link" aria-label="Direct link to DocumentFactory Metrics" title="Direct link to DocumentFactory Metrics">​</a></h2>
<p>The DocumentFactory exposes internal metrics via the Prometheus-compatible HTTP endpoint:</p>
<div class="language-txt codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-txt codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">http://&lt;host&gt;:5123/metrics</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>On Windows, you may need to grant explicit permissions for the HTTP listener if running as a non-administrator or as a service user.
This is accomplished using the netsh command:</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">netsh http add urlacl url=http://+:5123/metrics user=YOUR-DOMAIN\YourUser</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="service-info-metrics">Service Info Metrics<a href="#service-info-metrics" class="hash-link" aria-label="Direct link to Service Info Metrics" title="Direct link to Service Info Metrics">​</a></h3>
<p>Exposes static information about the application, including the .NET version, application name, and version.</p>
<table><thead><tr><th>Metric Name</th><th>Type</th><th>Labels</th><th>Description</th></tr></thead><tbody><tr><td><code>ptfdservice_info</code></td><td>Gauge</td><td><code>dotnet_version</code>, <code>app_name</code>, <code>app_version</code></td><td>Exposes static application info; value is always set to <code>1</code>.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="workflow-metrics">Workflow Metrics<a href="#workflow-metrics" class="hash-link" aria-label="Direct link to Workflow Metrics" title="Direct link to Workflow Metrics">​</a></h3>
<p>Metrics related to workflow executions.</p>
<table><thead><tr><th>Metric Name</th><th>Type</th><th>Labels</th><th>Description</th></tr></thead><tbody><tr><td><code>ptfd_workflow_counter</code></td><td>Counter</td><td><code>workflow_type</code></td><td>Counts total number of workflow executions.</td></tr><tr><td><code>ptfd_workflow_errors</code></td><td>Counter</td><td><code>workflow_type</code></td><td>Counts number of workflows that resulted in error.</td></tr><tr><td><code>ptfd_workflow_latency</code></td><td>Summary</td><td><code>workflow_type</code></td><td>Measures workflow execution latency (in ms).</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="label-definitions">Label Definitions:<a href="#label-definitions" class="hash-link" aria-label="Direct link to Label Definitions:" title="Direct link to Label Definitions:">​</a></h4>
<ul>
<li><code>workflow_type</code> – Type of workflow (<code>Standard</code> is currently the only value used).</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="artifact-metrics">Artifact Metrics<a href="#artifact-metrics" class="hash-link" aria-label="Direct link to Artifact Metrics" title="Direct link to Artifact Metrics">​</a></h3>
<p>Metrics related to artifact creation or processing.</p>
<table><thead><tr><th>Metric Name</th><th>Type</th><th>Labels</th><th>Description</th></tr></thead><tbody><tr><td><code>ptfd_artifact_counter</code></td><td>Counter</td><td><code>artifact_type</code>, <code>artifact_action</code></td><td>Counts total number of artifact operations.</td></tr><tr><td><code>ptfd_artifact_errors</code></td><td>Counter</td><td><code>artifact_type</code>, <code>artifact_action</code></td><td>Counts number of artifact-related errors.</td></tr><tr><td><code>ptfd_artifact_latency</code></td><td>Summary</td><td><code>artifact_type</code>, <code>artifact_action</code></td><td>Measures artifact processing latency (in ms).</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="label-definitions-1">Label Definitions<a href="#label-definitions-1" class="hash-link" aria-label="Direct link to Label Definitions" title="Direct link to Label Definitions">​</a></h4>
<ul>
<li><code>artifact_type</code> – Type of storage used for the artifact (e.g., <code>nuts</code>, <code>s3</code>, <code>fs</code>).</li>
<li><code>artifact_action</code> – Type of operation performed: <code>upload</code> or <code>download</code>.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="job-metrics">Job Metrics<a href="#job-metrics" class="hash-link" aria-label="Direct link to Job Metrics" title="Direct link to Job Metrics">​</a></h3>
<p>Metrics related to job execution, categorized by job and processor types.</p>
<table><thead><tr><th>Metric Name</th><th>Type</th><th>Labels</th><th>Description</th></tr></thead><tbody><tr><td><code>ptfd_job_counter</code></td><td>Counter</td><td><code>job_type</code>, <code>job_processortype</code></td><td>Counts total number of job executions.</td></tr><tr><td><code>ptfd_job_errors</code></td><td>Counter</td><td><code>job_type</code>, <code>job_processortype</code></td><td>Counts number of jobs that resulted in an error.</td></tr><tr><td><code>ptfd_job_latency</code></td><td>Summary</td><td><code>job_type</code>, <code>job_processortype</code></td><td>Measures job execution latency (in ms).</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="label-definitions-2">Label Definitions<a href="#label-definitions-2" class="hash-link" aria-label="Direct link to Label Definitions" title="Direct link to Label Definitions">​</a></h4>
<ul>
<li><code>job_type</code> – Processing stage of the job, e.g., <code>Preprocess</code>, <code>Postprocess</code>, <code>Merge</code>.</li>
<li><code>job_processortype</code> – Name of the processor handling the document, e.g., <code>pdf</code>, <code>word</code>, <code>image</code>.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="document-processor-metrics">Document Processor Metrics<a href="#document-processor-metrics" class="hash-link" aria-label="Direct link to Document Processor Metrics" title="Direct link to Document Processor Metrics">​</a></h3>
<p>Metrics related to document processing operations.</p>
<table><thead><tr><th>Metric Name</th><th>Type</th><th>Labels</th><th>Description</th></tr></thead><tbody><tr><td><code>ptfd_docprocessor_counter</code></td><td>Counter</td><td><code>processor_type</code>, <code>processor_action</code></td><td>Counts total number of document processor operations.</td></tr><tr><td><code>ptfd_docprocessor_errors</code></td><td>Counter</td><td><code>processor_type</code>, <code>processor_action</code></td><td>Counts number of document processor errors.</td></tr><tr><td><code>ptfd_docprocessor_latency</code></td><td>Summary</td><td><code>processor_type</code>, <code>processor_action</code></td><td>Measures document processor latency (in ms).</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="label-definitions-3">Label Definitions<a href="#label-definitions-3" class="hash-link" aria-label="Direct link to Label Definitions" title="Direct link to Label Definitions">​</a></h4>
<ul>
<li><code>processor_type</code> – Type of the processor handling the document (e.g., <code>pdf</code>, <code>word</code>, <code>image</code>).</li>
<li><code>processor_action</code> – The action performed by the processor, such as <code>merge</code>, <code>convert</code>, or <code>watermark</code>.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-grafana-to-visualize-metrics">Using Grafana to Visualize Metrics<a href="#using-grafana-to-visualize-metrics" class="hash-link" aria-label="Direct link to Using Grafana to Visualize Metrics" title="Direct link to Using Grafana to Visualize Metrics">​</a></h2>
<p>Grafana is an open-source analytics and dashboard platform that provides powerful visualization capabilities for DocumentFactory metrics.</p>
<p><strong>To view and analyze metrics:</strong></p>
<ul>
<li>Install Grafana by following the official <a href="https://grafana.com/get/" target="_blank" rel="noopener noreferrer"><strong>Grafana documentation</strong></a>.</li>
<li>Add Prometheus as a data source in Grafana.</li>
<li>Create dashboards to display key DocumentFactory metrics as charts, tables, and indicators.</li>
</ul>
<p>Grafana dashboards can be used to monitor system health, workflow performance, error rates, and latency, utilizing
visualization options such as time series graphs, gauges, and tables.</p>
<p><strong>Basic workflow for dashboard creation:</strong></p>
<ul>
<li>In the Grafana interface, <strong>select “+” → “Dashboard”</strong> and add panels with the necessary metrics.</li>
<li>For each panel, specify Prometheus as the data source and enter the appropriate PromQL queries for the metrics to be displayed.</li>
<li>Panels can be arranged and customized to meet specific monitoring needs.</li>
</ul>
<p>A ready-to-use dashboard JSON file, containing sample panels for DocumentFactory metrics, is available:</p>
<a href="/documentfactorydocs/files/grafana-dashboard.json" download=""><p>Download Grafana dashboard JSON</p></a>
<p>This file can be imported in Grafana via <strong>“Dashboards” → “Import”</strong>.</p>
<p>Below is a screenshot illustrating the example dashboard:</p>
<img src="/documentfactorydocs/img/monitoring/grafana_dashboard.png" alt="DF config location" style="display:block;margin:auto;width:100%;max-width:800px">
<p>Dashboards and panels can be further edited to provide a more convenient or unique view, depending on project or team requirements.</p>
<p>For more details on customization and advanced configuration, refer to the <a href="https://grafana.com/docs/" target="_blank" rel="noopener noreferrer"><strong>Grafana documentation</strong></a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/GlobalCents-DocumentFactory/documentfactorydocs/tree/main/docs/advanced-topics /minitoring.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/documentfactorydocs/docs/advanced-topics /errorhandling_and_logging"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Error Handling &amp; Logging</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-prometheus" class="table-of-contents__link toc-highlight">What is Prometheus?</a></li><li><a href="#setting-up-prometheus-to-monitor-documentfactory" class="table-of-contents__link toc-highlight">Setting Up Prometheus to Monitor DocumentFactory</a></li><li><a href="#documentfactory-metrics" class="table-of-contents__link toc-highlight">DocumentFactory Metrics</a><ul><li><a href="#service-info-metrics" class="table-of-contents__link toc-highlight">Service Info Metrics</a></li><li><a href="#workflow-metrics" class="table-of-contents__link toc-highlight">Workflow Metrics</a></li><li><a href="#artifact-metrics" class="table-of-contents__link toc-highlight">Artifact Metrics</a></li><li><a href="#job-metrics" class="table-of-contents__link toc-highlight">Job Metrics</a></li><li><a href="#document-processor-metrics" class="table-of-contents__link toc-highlight">Document Processor Metrics</a></li></ul></li><li><a href="#using-grafana-to-visualize-metrics" class="table-of-contents__link toc-highlight">Using Grafana to Visualize Metrics</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/documentfactorydocs/docs/introduction">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/company/global-cents-gci-live-llc-/posts/?feedView=all" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/documentfactorydocs/blog">Blog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Designed and built by © 2025 GCI Live, Llc.</div></div></div></footer></div>
</body>
</html>