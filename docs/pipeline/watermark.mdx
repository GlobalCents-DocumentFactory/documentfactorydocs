---
sidebar_position: 5
toc_min_heading_level: 2
toc_max_heading_level: 5
---

import ColorPicker from '@site/src/components/Colors/colorPicker';
import Link from "@docusaurus/Link";

# Watermark

The Watermark feature in DocumentFactory enables the insertion of visible markers—such as text, images, QR codes,
or static graphics—into PDF documents and images as part of the processing pipeline. This functionality is commonly
used for branding, classification, or ensuring the authenticity of generated outputs.

## Properties

### `actionwatermark`

*Type:* <code style={{ color: '#0066cc' }}>boolean</code>

This feature can be activated within the document processing pipeline by setting the `actionwatermark` property to `true`
within `processors` or `postprocess` arrays.

### `settingswatermarks`

*Type:* <code style={{ color: '#0066cc' }}>array</code>

The `settingswatermarks` defines a list of visual elements to be applied to the document during processing.
It is an array of objects, each describing a separate overlay—such as a text label, image, or QR code.
Multiple entries can be used to apply several elements within the same document.

Each object may include the following properties:

#### `watermarktype`

*Type:* <code style={{ color: '#0066cc' }}>string</code>

Specifies the type of watermark to apply, offering a selection of types that serve different purposes and provide various
visual effects. Available options include:

- `Text`: Applies a text-based watermark.
- `Qrcode`: Applies a QR code as the watermark.
- `Image`: Applies a general image as the watermark.

#### `layername`

*Type:* <code style={{ color: '#0066cc' }}>string</code>

*Watermark Type:* <code style={{ color: '#0066cc' }}>Text, Image, Qrcode</code>

When a watermark is applied to a document, the build process associates the specified `layername` with the applied watermark.
In order to delete previous watermarks from a PDF at a later time, this field must be filled out accurately.
This ensures that the watermarks can be properly identified and removed if necessary.

#### `color`

*Type:* <code style={{ color: '#0066cc' }}>string</code>

*Watermark Type:* <code style={{ color: '#0066cc' }}>Text, Image</code>

Determines the color of the watermark, allowing it to blend well with the document’s design and aesthetics.
The value should be chosen from a predefined palette via a color picker.

<ColorPicker />

#### `fontfamily`

*Type:* <code style={{ color: '#0066cc' }}>string</code>

*Watermark Type:* <code style={{ color: '#0066cc' }}>Text, Image</code>

The `fontfamily` property defines the font used for text-based watermarks.
Its value must correspond to one of the supported font families available in the system:

- `COURIER`
- `HELVETICA`
- `TIMES_ROMAN`
- `SYMBOL`
- `ZAPFDINGBATS`
- `UNDEFINED`

#### `fontsize`

*Type:* <code style={{ color: '#0066cc' }}>integer</code>

*Watermark Type:* <code style={{ color: '#0066cc' }}>Text, Image, Qrcode</code>

Specifies the font size of the watermark text. This property allows to set a specific
font size, giving control over how large or small the watermark text appears on the page.

#### `rotation`

*Type:* <code style={{ color: '#0066cc' }}>integer</code>

*Watermark Type:* <code style={{ color: '#0066cc' }}>Text, Image, Qrcode</code>

Controls the orientation of the watermark by setting the rotation in degrees.

A value of 0 means no rotation. Positive values rotate the watermark clockwise, while negative values rotate it counterclockwise.

#### `height`

*Type:* <code style={{ color: '#0066cc' }}>integer</code>

*Watermark Type:* <code style={{ color: '#0066cc' }}>Image, Qrcode</code>

Sets the vertical size of the watermark on the document page, controlling how tall the watermark
appears within the document boundaries.

#### `width`

*Type:* <code style={{ color: '#0066cc' }}>integer</code>

*Watermark Type:* <code style={{ color: '#0066cc' }}>Image, Qrcode</code>

Sets the horizontal size of the watermark on the document page, defining how wide the watermark
appears within the document boundaries.

#### `text`

*Type:* <code style={{ color: '#0066cc' }}>string</code>

*Watermark Type:* <code style={{ color: '#0066cc' }}>Text, Image, Qrcode</code>

The `text` property specifies the content displayed as the watermark on the document. It defines the exact text that will
appear as the watermark.

#### `underlayout`

*Type:* <code style={{ color: '#0066cc' }}>boolean</code>

*Watermark Type:* <code style={{ color: '#0066cc' }}>Text, Qrcode, Image</code>

Specifies whether the watermark should be placed under the document layout.  If the `underlayout` property is set to `true`,
it indicates that the watermark will be placed under the document content. Set this property to `false` if you want to
place the watermark over the content.

#### `fontbold`

*Type:* <code style={{ color: '#0066cc' }}>boolean</code>

*Watermark Type:* <code style={{ color: '#0066cc' }}>Text, Image</code>

Defines if the watermark text should be bolded to stand out more prominently.
If set to `true`, the text will be bold. If set to `false`, the text will be displayed in regular weight.

#### `fontitalic`

*Type:* <code style={{ color: '#0066cc' }}>boolean</code>

*Watermark Type:* <code style={{ color: '#0066cc' }}>Text, Image</code>

Determines if the watermark text appears italicized. If set to `true`, the text will be italicized.
If set to `false`, the text will be displayed in regular style.

#### `verticalalign`

*Type:* <code style={{ color: '#0066cc' }}>string</code>

*Watermark Type:* <code style={{ color: '#0066cc' }}>Text, Image, Qrcode</code>

Controls the vertical placement of the watermark within the document. It determines where
the watermark will be placed along the vertical axis of the page. The available options for this property include:

- `top`: Positions the watermark at the top of the document.
- `center`: Places the watermark in the center of the document, evenly balanced between the top and bottom.
- `bottom`: Aligns the watermark at the bottom of the document.

#### `horizontalalign`

*Type:* <code style={{ color: '#0066cc' }}>string</code>

*Watermark Type:* <code style={{ color: '#0066cc' }}>Text, Image, Qrcode</code>

Controls the horizontal placement of the watermark within the document. It determines where the watermark will be placed
along the horizontal axis of the page. The available options for this property include:

- `left`: Positions the watermark on the left side of the document.
- `center`: Places the watermark in the center of the document, evenly balanced between the left and right sides.
- `right`: Aligns the watermark on the right side of the document.

#### `textverticalposition`

*Type:* <code style={{ color: '#0066cc' }}>string</code>

*Watermark Type:* <code style={{ color: '#0066cc' }}>Image</code>

Specifies the vertical alignment of the text within the watermark area, rather than within the entire document.
This property controls how the text is positioned along the vertical axis inside the defined watermark dimensions.
The resulting position may also depend on other configuration parameters that influence layout and spacing.

The available string options for this property include:

- `top`: Places the watermark text at the top of the document.
- `center`: Centers the watermark text in the middle of the document.
- `bottom`: Places the watermark text at the bottom of the document.

#### `texthorizontalalign`

*Type:* <code style={{ color: '#0066cc' }}>string</code>

*Watermark Type:* <code style={{ color: '#0066cc' }}>Image</code>

Specifies the horizontal alignment of the text within the watermark area, rather than within the entire document.
This setting controls how the text is positioned inside the defined dimensions of the watermark element.
The final position may also be influenced by other configuration parameters that affect placement.

The available string options for this property include:

- `left`: Aligns the watermark text to the left side of the document.
- `center`: Centers the watermark text in the middle of the document.
- `right`: Aligns the watermark text to the right side of the document.

#### `border`

*Type:* <code style={{ color: '#0066cc' }}>integer</code>

*Watermark Type:* <code style={{ color: '#0066cc' }}>Image</code>


Specifies the thickness of the watermark border, measured in points.

#### `textmargin`

*Type:* <code style={{ color: '#0066cc' }}>integer</code>

*Watermark Type:* <code style={{ color: '#0066cc' }}>Image</code>

Sets the margin around the watermark text, defining space between the text and the bounding box edges, measured in points.

#### `watermarkmarginhorizontal`

*Type:* <code style={{ color: '#0066cc' }}>integer</code>

*Watermark Type:* <code style={{ color: '#0066cc' }}>Text, Image, Qrcode</code>

The `watermarkmarginhorizontal` property specifies the horizontal margin around the watermark. It defines
the amount of space to be maintained between the edges of the watermark and the left and right borders of the document,
determining the horizontal positioning of the watermark within the document. The margin is measured in points.

#### `watermarkmarginvertical`

*Type:* <code style={{ color: '#0066cc' }}>integer</code>

*Watermark Type:* <code style={{ color: '#0066cc' }}>Text, Image, Qrcode</code>

The `watermarkmarginvertical` property specifies the vertical margin around the watermark. It defines
the amount of space to be maintained between the edges of the watermark and the top and bottom borders of the document,
providing control over the vertical positioning of the watermark within the document. The margin is measured in points.

#### `borderradius`

*Type:* <code style={{ color: '#0066cc' }}>integer</code>

*Watermark Type:* <code style={{ color: '#0066cc' }}>Image</code>

Determines how rounded the watermark border corners are, measured in points.

#### `transparentbackground`

*Type:* <code style={{ color: '#0066cc' }}>boolean</code>

*Watermark Type:* <code style={{ color: '#0066cc' }}>Image</code>

The `transparentbackground` property determines whether the background of the watermark is visible. When enabled, the area
behind the watermark remains visible; otherwise, it is covered by a solid background.

#### `watermarkon`

*Type:* <code style={{ color: '#0066cc' }}>integer</code>

*Watermark Type:* <code style={{ color: '#0066cc' }}>Text, Image, Qrcode</code>

Controls which pages the watermark appears on. Options include:

- `watermarkfirstpage`: Apply the watermark only to the first page of the document.
- `watermarklastpage`: Apply the watermark only to the last page of the document.
- `watermarkallpages`: Apply the watermark to all pages of the document.

#### `watermarkfrompage`

*Type:* <code style={{ color: '#0066cc' }}>string</code>

*Watermark Type:* <code style={{ color: '#0066cc' }}>Text, Image, Qrcode</code>

Specifies the starting page number from which the watermark should be applied in the document. This property determines
the first page that will include the watermark.

#### `watermarktopage`

*Type:* <code style={{ color: '#0066cc' }}>string</code>

*Watermark Type:* <code style={{ color: '#0066cc' }}>Text, Image, Qrcode</code>

Specifies the ending page number up to which the watermark should be applied in the document. This property defines the
last page that will include the watermark.

#### `opacity`

*Type:* <code style={{ color: '#0066cc' }}>number</code>

*Watermark Type:* <code style={{ color: '#0066cc' }}>Text, Image, Qrcode</code>

The `opacity` property specifies the transparency level of the watermark. It controls how visible or faint
the watermark appears on the document. The value for this property should be a number between 0 and 1, where 0 represents
complete transparency (fully invisible) and 1 represents full opacity (fully visible).

#### `barcodetype`

*Type:* <code style={{ color: '#0066cc' }}>string</code>

*Watermark Type:* <code style={{ color: '#0066cc' }}>Qrcode</code>

Specifies the type of barcode to be generated and applied within the document. Supports a wide variety of standards and
options such as:

- `None`
- `Pdf417`
- `MacroPdf417`
- `GS1DataMatrix`
- `MicroPdf417`
- `GS1QR`
- `MaxiCode`
- `DotCode`
- `AustraliaPost`
- `Postnet`
- `Planet`
- `OneCode`
- `RM4SCC`
- `Mailmark`
- `DatabarOmniDirectional`
- `DatabarTruncated`
- `DatabarLimited`
- `DatabarExpanded`
- `GS1CodablockF`
- `CodablockF`
- `UpcaGs1DatabarCoupon`
- `UpcaGs1Code128Coupon`
- `DutchKIX`
- `DataLogic2of5`
- `Aztec`
- `Code32`
- `SwissPostParcel`
- `AustralianPosteParcel`
- `SingaporePost`
- `DatabarStackedOmniDirectional`
- `DatabarStacked`
- `DatabarExpandedStacked`
- `PatchCode`
- `DataMatrix`
- `QR`
- `UPCE`
- `Code39Standard`
- `Code39Extended`
- `Code93Standard`
- `Code93Extended`
- `Code128`
- `GS1Code128`
- `EAN8`
- `EAN13`
- `EAN14`
- `SCC14`
- `SSCC18`
- `UPCA`
- `Pharmacode`
- `ISBN`
- `Code11`
- `ISSN`
- `Standard2of5`
- `Interleaved2of5`
- `Matrix2of5`
- `ItalianPost25`
- `IATA2of5`
- `ITF14`
- `ITF6`
- `MSI`
- `VIN`
- `DeutschePostIdentcode`
- `DeutschePostLeitcode`
- `OPC`
- `PZN`
- `Code16K`
- `ISMN`
- `Codabar`

By setting the `barcodetype` property, the appropriate barcode format can be integrated into the document,
catering to various identification, tracking, and data encoding needs.

#### `displaybarcodetext`

*Type:* <code style={{ color: '#0066cc' }}>boolean</code>

*Watermark Type:* <code style={{ color: '#0066cc' }}>Qrcode</code>

Determines whether the human-readable text representation of the barcode appears below it.

#### `barcodezoom`

*Type:* <code style={{ color: '#0066cc' }}>number</code>

*Watermark Type:* <code style={{ color: '#0066cc' }}>Qrcode</code>

Specifies the scaling factor for the barcode, adjusting its size inside the document.



### Example

 ```json title="pipeline.json"
    {
      "processors": [
        {
          "actionwatermark": true,
          "settingswatermarks": [
            {
              "text": "Sample Watermark",
              "layername": "watermark_example",
              "watermarktype": "Image",
              "rotation": -25,
              "fontsize": 60,
              "fontfamily": "HELVETICA",
              "width": 600,
              "height": 150,
              "color": "Red",
              "opacity": 0.5,
              "transparentbackground": true,
              "underlayout": false,
              "horizontalalign": "center",
              "verticalalign": "center",
              "texthorizontalalign": "center",
              "textverticalposition": "center",
              "border": 3,
              "watermarkmarginhorizontal": 20,
              "watermarkmarginvertical": 20,
              "borderadius": 20
            }
          ]
        }
      ]
    }
```

In the example above:

- A watermark is added to the document using the `actionwatermark` processor with custom styling and layout.
- Displays the string "Sample Watermark" as the watermark content.
- Positioned centered on the page.
- Uses red semi-transparent text rotated by -25 degrees.
- Includes defined margins.
- Has a border with rounded corners.
- Features a transparent background.
- The <Link to="#layername">`layername`</Link> "watermark_example" enables referencing the watermark for removal later.
